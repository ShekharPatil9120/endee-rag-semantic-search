{% extends "base.html" %}
{% block title %}Profile{% endblock %}

{% block content %}
<!-- ===== Profile Header ===== -->
<section class="bg-white border-bottom shadow-sm py-4">
  <div class="container d-flex justify-content-between align-items-center">
    <div>
      <h4 class="fw-bold mb-0 text-dark">ğŸ‘¤ Profile</h4>
      <p class="text-muted small mb-0">Manage your account information and preferences</p>
    </div>
    <a href="{% url 'home' %}" class="btn btn-outline-success fw-semibold px-3">
      â† Back to Home
    </a>
  </div>
</section>

<!-- ===== Profile Body ===== -->
<div class="container my-5" style="max-width: 900px;">
  <div class="text-center mb-5">
    {% if user.profile.image %}
      <img src="{{ user.profile.image.url }}" alt="profile" class="rounded-circle shadow-sm border" width="110" height="110">
    {% else %}
      <img src="https://via.placeholder.com/110" alt="default" class="rounded-circle shadow-sm border" width="110" height="110">
    {% endif %}
    <h3 class="mt-3 fw-bold text-dark">{{ user.get_full_name|default:user.username }}</h3>
    <p class="text-muted">@{{ user.username }}</p>
  </div>

  <div class="card shadow-sm border-0 rounded-4">
    <div class="card-body p-4 p-md-5">
      <h5 class="text-success fw-semibold mb-4">Account Settings</h5>

      <form method="POST" enctype="multipart/form-data" class="needs-validation">
        {% csrf_token %}
        <div class="row g-4">
          <!-- User Info -->
          <div class="col-md-6">
            <div class="p-3 border rounded-3 bg-light h-100">
              <h6 class="text-secondary mb-3 fw-semibold">ğŸ‘¤ Personal Details</h6>
              {{ user_form.as_p }}
            </div>
          </div>

          <!-- Profile Info -->
          <div class="col-md-6">
            <div class="p-3 border rounded-3 bg-light h-100">
              <h6 class="text-secondary mb-3 fw-semibold">ğŸ“· Profile Settings</h6>
              {{ profile_form.as_p }}
            </div>
          </div>
        </div>

        <div class="text-center mt-5">
          <button class="btn btn-success px-5 py-2 fw-semibold shadow-sm">
            ğŸ’¾ Save Changes
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<style>
  body {
    background: #f9fafb;
    font-family: 'Inter', 'Poppins', sans-serif;
  }

  .card {
    transition: all 0.3s ease;
  }

  .card:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.06);
  }

  form input, form select, form textarea {
    border-radius: 8px !important;
    border-color: #dce7dc !important;
  }

  .btn-success {
    border-radius: 8px;
    transition: all 0.3s ease;
  }

  .btn-success:hover {
    background-color: #2e7d32;
    transform: translateY(-2px);
  }

  h3, h4, h5, h6 {
    font-family: 'Poppins', sans-serif;
  }
</style>
{% endblock %}
